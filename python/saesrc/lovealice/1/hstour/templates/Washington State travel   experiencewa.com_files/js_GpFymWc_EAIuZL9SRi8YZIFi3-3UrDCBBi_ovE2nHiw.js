function consoleMe(e){if(urlParams["debug"]==="blocks"||urlParams["debug"]==="block"){console.log(e)}}function RunThrowCalls(){if(!!Drupal.settings.local_responsive.throwCalls){for(var blockIDkey in Drupal.settings.local_responsive.throwCalls){eval(Drupal.settings.local_responsive.throwCalls[blockIDkey])}}}function mmgBlockThrowerSetScreenSize(){if(typeof _gaq==="undefined"){_gaq=[]}var e=Drupal.settings.screensize.bracket.getKey(0)||"mobile";var t=new Array;if(!!Drupal.settings.screensize.bracket){for(var n in Drupal.settings.screensize.bracket){if(jQuery(window).width()>=Drupal.settings.screensize.bracket[n]){e=n;t.push(n+"-up")}}t.pop();sSubBrackets=t.join(" ")}if(Drupal.settings.screensize.initialized!="TRUE"){jQuery("html").attr("data-screensize",e+" "+sSubBrackets);Drupal.settings.screensize.current=e;Drupal.settings.screensize.initialized="TRUE";_gaq.push(["_trackEvent","Site Layout","responsive-layout-"+e,,,true]);consoleMe("Initialized as: "+e);RunThrowCalls()}else{if(Drupal.settings.screensize.current!=e){var r=Drupal.settings.screensize.current;consoleMe("Changing screenstate from "+r+" to : "+e);jQuery("html").attr("data-screensize",e+" "+sSubBrackets);Drupal.settings.screensize.current=e;Drupal.settings.screensize.previous=r;hookJS.runHook("screenStateChangePre");_gaq.push(["_trackEvent","Site Layout","responsive-layout-"+e,,,true]);RunThrowCalls();if(typeof myScreenStateChanged=="function"){myScreenStateChanged(e,r)}hookJS.runHook("screenStateChange")}}}function ThrowBlock(e,t,n,r){var i=e.replace(":","-");var i=i.replace(/_/g,"-");var r=r||false;var n=n||"target-"+i;var s="thrown_"+n;var o=i+"-to-"+n;if(r=="true"){var u=t.indexOf(Drupal.settings.screensize.current);if(u!=-1){sMessage="Throwing "+e+" into "+n;consoleMe(sMessage);jQuery("#"+n).html('<div class="'+s+'">'+Drupal.settings.local_responsive[e]+"</div>")}else{sMessage="Eating "+e+" from "+n;consoleMe(sMessage);jQuery("#"+n+"  ."+s).remove()}}Drupal.settings.local_responsive.throwCalls[o]="ThrowBlock ('"+e+"', '"+t+"', '"+n+"', 'true');"}function ThrowBlockAjax(e,t,n,r,i){var i=i||false;var e=e||"";var t=t||"";var r=r||"";var n=n||"";var s="AJX-"+e+":"+t;var o="AJX-"+e+"-"+t+"-to-";var o=o.replace(/_/g,"-")+r;if(i=="true"){var u=n.indexOf(Drupal.settings.screensize.current);if(u!=-1&&!!e&&!!t&&!!r){sMessage="AJAX Throwing "+e+":"+t+" into "+r;consoleMe(sMessage);if(!!Drupal.settings.local_responsive[s]){ThrowBlock(s,n,r,"true")}else{jQuery.get("/ajax/block/"+e+"/"+t,null,function(i,u){if(u=="success"){Drupal.settings.local_responsive[s]=i;sMessage="AJAX Load Success: Data now in Drupal.settings.local_responsive."+s;consoleMe(sMessage);ThrowBlock(s,n,r,"true")}else{sMessage="AJAX Load FAILED: "+s;consoleMe(sMessage);Drupal.settings.local_responsive.throwCalls[o]="ThrowBlockAjax ('"+e+"', '"+t+"', '"+n+"', '"+r+"', 'true');"}})}}else{Drupal.settings.local_responsive.throwCalls[o]="ThrowBlockAjax ('"+e+"', '"+t+"', '"+n+"', '"+r+"', 'true');"}}else{Drupal.settings.local_responsive.throwCalls[o]="ThrowBlockAjax ('"+e+"', '"+t+"', '"+n+"', '"+r+"', 'true');"}}hookJS.hook.screenStateChangePre=typeof hookJS.hook.screenStateChangePre==="object"?hookJS.hook.screenStateChangePre:{};hookJS.hook.screenStateChange=typeof hookJS.hook.screenStateChange==="object"?hookJS.hook.screenStateChange:{};var urlParams={};(function(){var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(t," "))},i=window.location.search.substring(1);while(e=n.exec(i))urlParams[r(e[1])]=r(e[2])})();(function(e){e(document).ready(function(){Drupal.settings.screensize.bracket.getKey=function(e){for(var t in this){if(this[t]==e){return t}}return null};mmgBlockThrowerSetScreenSize();e(window).resize(mmgBlockThrowerSetScreenSize)})})(jQuery);;
